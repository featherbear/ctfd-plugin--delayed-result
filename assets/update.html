{% extends "admin/challenges/update.html" %}

{% block header %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script id="flatpickrSrc" async src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
{% endblock %}

{% block value %}
	{{ super() }}
	<div class="form-group">
		<label for="value">Hold Expiry<br>
			<small class="form-text text-muted">
				When submissions will be stop being held
			</small>
		</label>
		<input type="datetime-local" class="form-control chal-expiry" name="expiry" value="{{ challenge.expiry }}" required>
		<script>
			document.querySelector('#flatpickrSrc').addEventListener('load', () => {
				flatpickr("input[name=expiry]", {
					enableTime: true,
					dateFormat: "Z",
					altInput: true,
					altFormat: "d-m-Y H:i",
				})
			})
		</script>
	</div>
{% endblock %}