{% extends "admin/challenges/update.html" %}

{% block value %}
	{{ super() }}
	<div class="form-group">
		<label for="value">Hold Expiry<br>
			<small class="form-text text-muted">
				When submissions will be stop being held
			</small>
		</label>
		<input type="datetime-local" class="form-control chal-expiry" name="expiry" value="{{ challenge.expiry }}" required>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
		<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
		<script>
			(function() {
				function load() {
					if (typeof flatpickr === 'undefined') {
						setTimeout(load, 500)
						return
					}

					flatpickr("input[name=expiry]", {
						enableTime: true,
						dateFormat: "Z",
						altInput: true,
						altFormat: "d-m-Y H:i",
					})
				}
				load()
			})();
		</script>
	</div>
{% endblock %}